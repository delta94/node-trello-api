{"version":3,"sources":["../../../src/routes/api/checklist.js"],"names":["router","express","Router","post","auth","req","res","body","name","idBoard","idCard","CheckList","create","checklist","status","send","id","params","idCheckList","findById","checkList","error","msg","checkItems","push","save"],"mappings":";;;;;;;;;;;;;;AAAA;;;;AACA;;;;AACA;;;;AAEA,IAAMA,SAASC,kBAAQC,MAAR,EAAf;;AAEA;;;;;AAKAF,OAAOG,IAAP,CAAY,SAAZ,EAAuBC,wBAAvB;AAAA,sFAA6B,iBAAOC,GAAP,EAAYC,GAAZ;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA,wBACOD,IAAIE,IADX,EACnBC,IADmB,aACnBA,IADmB,EACbC,OADa,aACbA,OADa,EACJC,MADI,aACJA,MADI;AAAA;AAAA,mBAGHC,2BAAUC,MAAV,CAAiB,EAAEJ,UAAF,EAAQC,gBAAR,EAAiBC,cAAjB,EAAjB,CAHG;;AAAA;AAGrBG,qBAHqB;;AAI3BP,gBAAIQ,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqBF,SAArB;;AAJ2B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,GAA7B;;AAAA;AAAA;AAAA;AAAA;;AAQA;;;;;AAKAb,OAAOG,IAAP,CAAY,gBAAZ,EAA8BC,wBAA9B;AAAA,uFAAoC,kBAAOC,GAAP,EAAYC,GAAZ;AAAA;;AAAA;AAAA;AAAA;AAAA;AAC1BU,cAD0B,GACnBX,IAAIY,MAAJ,CAAWD,EADQ,CAC1BA,EAD0B;AAAA,yBAEJX,IAAIE,IAFA,EAE1BC,IAF0B,cAE1BA,IAF0B,EAEpBU,WAFoB,cAEpBA,WAFoB;AAAA;AAAA,mBAIZP,2BAAUQ,QAAV,CAAmBH,EAAnB,CAJY;;AAAA;AAI9BI,qBAJ8B;;AAAA,gBAK7BA,SAL6B;AAAA;AAAA;AAAA;;AAAA,8CAMzBd,IAAIQ,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqB;AAC1BM,qBAAO,IADmB;AAE1BC,mBAAK;AAFqB,aAArB,CANyB;;AAAA;;AAWlCF,sBAAUG,UAAV,CAAqBC,IAArB,CAA0B;AACxBV,sBAAQ,MADgB;AAExBN,wBAFwB;AAGxBU;AAHwB,aAA1B;;AAMAE,sBAAUK,IAAV;;AAEAnB,gBAAIQ,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqBK,SAArB;;AAnBkC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,GAApC;;AAAA;AAAA;AAAA;AAAA;;kBAsBepB,M","file":"checklist.js","sourcesContent":["import express from 'express';\nimport auth from '../../middleware/authMiddleware';\nimport { CheckList } from '../../models/checkListSchema';\n\nconst router = express.Router();\n\n/**\n * @routes POST /api/checklist/create\n * @desc Create check list\n * @api private\n */\nrouter.post('/create', auth, async (req, res) => {\n  const { name, idBoard, idCard } = req.body;\n\n  const checklist = await CheckList.create({ name, idBoard, idCard });\n  res.status(200).send(checklist);\n});\n\n\n/**\n * @routes POST /api/checklist/:id/checkitem\n * @desc Create check list items\n * @api private\n */\nrouter.post('/:id/checkitem', auth, async (req, res) => {\n  const { id } = req.params.id;\n  const { name, idCheckList } = req.body;\n\n  let checkList = await CheckList.findById(id);\n  if (!checkList)\n    return res.status(400).send({\n      error: true,\n      msg: 'No checklist found'\n    });\n\n  checkList.checkItems.push({\n    status: 'open',\n    name,\n    idCheckList\n  });\n\n  checkList.save();\n\n  res.status(200).send(checkList);\n});\n\nexport default router;\n"]}
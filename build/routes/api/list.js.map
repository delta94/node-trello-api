{"version":3,"sources":["../../../src/routes/api/list.js"],"names":["router","express","Router","post","auth","req","res","body","name","idMemberCreator","idBoard","list","List","save","Board","findById","board","lists","push","_id","status","send","id","findByIdAndDelete","Card","deleteMany","idList"],"mappings":";;;;;;;;;;;;;AAAA;;AACA;;AACA;;AACA;;AACA;;AAEA,IAAMA,MAAM,GAAGC,oBAAQC,MAAR,EAAf;AAEA;;;;;AAKA;AAGA;;AAEA;;;;;;;AAKAF,MAAM,CAACG,IAAP,CAAY,SAAZ,EAAuBC,0BAAvB;AAAA,2FAA6B,iBAAOC,GAAP,EAAYC,GAAZ;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA,wBACgBD,GAAG,CAACE,IADpB,EACnBC,IADmB,aACnBA,IADmB,EACbC,eADa,aACbA,eADa,EACIC,OADJ,aACIA,OADJ;AAEvBC,YAAAA,IAFuB,GAEhB,IAAIC,gBAAJ,CAAS;AAClBJ,cAAAA,IAAI,EAAJA,IADkB;AAElBC,cAAAA,eAAe,EAAfA,eAFkB;AAGlBC,cAAAA,OAAO,EAAPA;AAHkB,aAAT,CAFgB;AAAA;AAAA,mBAQrBC,IAAI,CAACE,IAAL,EARqB;;AAAA;AAAA;AAAA,mBAUTC,mBAAMC,QAAN,CAAeL,OAAf,CAVS;;AAAA;AAUvBM,YAAAA,KAVuB;AAW3BA,YAAAA,KAAK,CAACC,KAAN,CAAYC,IAAZ,CAAiBP,IAAI,CAACQ,GAAtB;AAX2B;AAAA,mBAYrBH,KAAK,CAACH,IAAN,EAZqB;;AAAA;AAc3BP,YAAAA,GAAG,CAACc,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqBV,IAArB;;AAd2B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,GAA7B;;AAAA;AAAA;AAAA;AAAA;AAkBA;;;;;;AAKAX,MAAM,CAACG,IAAP,CAAY,SAAZ,EAAuBC,0BAAvB;AAAA,4FAA6B,kBAAOC,GAAP,EAAYC,GAAZ;AAAA;AAAA;AAAA;AAAA;AAAA;AACnBgB,YAAAA,EADmB,GACZjB,GAAG,CAACE,IADQ,CACnBe,EADmB;AAAA;AAAA,mBAGRV,iBAAKW,iBAAL,CAAuBD,EAAvB,CAHQ;;AAAA;AAGrBX,YAAAA,IAHqB;AAAA;AAAA,mBAIrBa,iBAAKC,UAAL,CAAgB;AAAEC,cAAAA,MAAM,EAAEJ;AAAV,aAAhB,CAJqB;;AAAA;AAM3BhB,YAAAA,GAAG,CAACc,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqBV,IAArB;;AAN2B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,GAA7B;;AAAA;AAAA;AAAA;AAAA;eASeX,M","sourcesContent":["import express from 'express';\nimport auth from '../../middleware/authMiddleware';\nimport { List } from '../../models/listSchema';\nimport { Card } from '../../models/cardSchema';\nimport { Board } from '../../models/boardSchema';\n\nconst router = express.Router();\n\n/**\n * @routes /list/\n * @desc list of board\n * @api private\n */\n// router.get('/', auth, async (req, res) => {\n\n\n// });\n\n/**\n * @routes /list/create\n * @desc list of board\n * @api private\n */\nrouter.post('/create', auth, async (req, res) => {\n  const { name, idMemberCreator, idBoard } = req.body;\n  let list = new List({\n    name,\n    idMemberCreator,\n    idBoard\n  });\n\n  await list.save();\n\n  let board = await Board.findById(idBoard);\n  board.lists.push(list._id);\n  await board.save();\n\n  res.status(200).send(list);\n});\n\n\n/**\n * @routes /list/archive\n * @desc list of board\n * @api private\n */\nrouter.post('/delete', auth, async (req, res) => {\n  const { id } = req.body;\n\n  const list = await List.findByIdAndDelete(id);\n  await Card.deleteMany({ idList: id });\n\n  res.status(200).send(list);\n});\n\nexport default router;\n"],"file":"list.js"}
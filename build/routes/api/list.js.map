{"version":3,"sources":["../../../src/routes/api/list.js"],"names":["router","express","Router","post","auth","req","res","body","name","idMemberCreator","idBoard","list","List","save","Board","findById","board","lists","push","_id","status","send","id","findByIdAndDelete","Card","deleteMany","idList"],"mappings":";;;;;;;;;;;;;;AAAA;;;;AACA;;;;AACA;;AACA;;AACA;;;;AAEA,IAAMA,SAASC,kBAAQC,MAAR,EAAf;;AAEA;;;;;AAKA;;;AAGA;;AAEA;;;;;AAKAF,OAAOG,IAAP,CAAY,SAAZ,EAAuBC,wBAAvB;AAAA,sFAA6B,iBAAOC,GAAP,EAAYC,GAAZ;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA,wBACgBD,IAAIE,IADpB,EACnBC,IADmB,aACnBA,IADmB,EACbC,eADa,aACbA,eADa,EACIC,OADJ,aACIA,OADJ;AAEvBC,gBAFuB,GAEhB,IAAIC,gBAAJ,CAAS;AAClBJ,wBADkB;AAElBC,8CAFkB;AAGlBC;AAHkB,aAAT,CAFgB;AAAA;AAAA,mBAQrBC,KAAKE,IAAL,EARqB;;AAAA;AAAA;AAAA,mBAUTC,mBAAMC,QAAN,CAAeL,OAAf,CAVS;;AAAA;AAUvBM,iBAVuB;;AAW3BA,kBAAMC,KAAN,CAAYC,IAAZ,CAAiBP,KAAKQ,GAAtB;AAX2B;AAAA,mBAYrBH,MAAMH,IAAN,EAZqB;;AAAA;;AAc3BP,gBAAIc,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqBV,IAArB;;AAd2B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,GAA7B;;AAAA;AAAA;AAAA;AAAA;;AAkBA;;;;;AAKAX,OAAOG,IAAP,CAAY,SAAZ,EAAuBC,wBAAvB;AAAA,uFAA6B,kBAAOC,GAAP,EAAYC,GAAZ;AAAA;AAAA;AAAA;AAAA;AAAA;AACnBgB,cADmB,GACZjB,IAAIE,IADQ,CACnBe,EADmB;AAAA;AAAA,mBAGRV,iBAAKW,iBAAL,CAAuBD,EAAvB,CAHQ;;AAAA;AAGrBX,gBAHqB;AAAA;AAAA,mBAIrBa,iBAAKC,UAAL,CAAgB,EAAEC,QAAQJ,EAAV,EAAhB,CAJqB;;AAAA;;AAM3BhB,gBAAIc,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqBV,IAArB;;AAN2B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,GAA7B;;AAAA;AAAA;AAAA;AAAA;;kBASeX,M","file":"list.js","sourcesContent":["import express from 'express';\nimport auth from '../../middleware/authMiddleware';\nimport { List } from '../../models/listSchema';\nimport { Card } from '../../models/cardSchema';\nimport { Board } from '../../models/boardSchema';\n\nconst router = express.Router();\n\n/**\n * @routes /list/\n * @desc list of board\n * @api private\n */\n// router.get('/', auth, async (req, res) => {\n\n\n// });\n\n/**\n * @routes /list/create\n * @desc list of board\n * @api private\n */\nrouter.post('/create', auth, async (req, res) => {\n  const { name, idMemberCreator, idBoard } = req.body;\n  let list = new List({\n    name,\n    idMemberCreator,\n    idBoard\n  });\n\n  await list.save();\n\n  let board = await Board.findById(idBoard);\n  board.lists.push(list._id);\n  await board.save();\n\n  res.status(200).send(list);\n});\n\n\n/**\n * @routes /list/archive\n * @desc list of board\n * @api private\n */\nrouter.post('/delete', auth, async (req, res) => {\n  const { id } = req.body;\n\n  const list = await List.findByIdAndDelete(id);\n  await Card.deleteMany({ idList: id });\n\n  res.status(200).send(list);\n});\n\nexport default router;\n"]}